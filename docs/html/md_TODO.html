<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IceTea: ToDo: To make it better...</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IceTea
   </div>
   <div id="projectbrief">Next-Generationbuildtoolforeveryone!</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ToDo: To make it better... </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>I have set up myself to make an awesome build tool. But as each project's nature, it has a todo list. Here it goes!</p>
<ul>
<li>[X] Support creation and manipulation of files by mapping the oldschool <code>FILE* f*()</code> functions into the <code>os-pfs</code> module.</li>
<li>[X] Finally introduce the usage of actions instead of building all targets.</li>
<li>[X] Implement sanity checks to make sure that an action/target/rule object is correctly entered.</li>
<li>[-] Introduce <code>external(name) {... opts ...}</code></li>
<li>[X] Implement the detector module.</li>
<li>[X] Implement an overall caching storage to make it possible for the app to store a cache for detector and alike.</li>
<li>[X] Somehow introduce console colors for all platforms.</li>
<li>[X] Introduce pre-inclusion (<code>require()</code>ing all files within a specified subfolder)</li>
<li>[ ] Introduce addition to <code>require()</code> to automatically include a project. I.e.: <code>require.project "submodule/"</code><ul>
<li>And what if the project has a custom <code>bootstrap.it</code>? o.o It shouldn't, but that might actually matter. Therefore, this feature should come along with actual Project support.</li>
</ul>
</li>
<li>[X] Begin using the <code>prepare()</code> method for rules.</li>
<li>[X] Implement the <code>tag()</code> mechanism for usage inside targets/externals and the function to do a proper lookup.</li>
<li>[X] Introduce the array <code>+</code> operator. I.e.: <code>var a=["foo"] + ["bar"]</code>. <code>o</code> should now contain: <code>["foo","bar"]</code></li>
<li>[X] Proper SHA2 implementation</li>
<li>[X] Properly implement the lib+func checks (libdl on linux and what on Win32?)</li>
</ul>
<h3>Added 19th Dec. 2014, 3.40AM</h3>
<ul>
<li>[X] Introduce dependency tracker</li>
<li>[X] Rewrite <code>void Run(void*)</code> for a better update tracker. It currently will happily rerun a task <b>multiple</b> times. It needs to learn to only run a task once, and only once.</li>
<li>[X] Add <code>+</code> operator for <code>Object</code>.</li>
<li>[X] Better error handling if OS actually crashed. Currently <code>int main(int,char**)</code> will report that no targets were built whilst it actually has an exception written ontop of it.</li>
<li>[ ] Separate debug/non-debug builds<ul>
<li>Should allow some options to be set for output folder, etc... Maybe use a Profile kinda thing?</li>
</ul>
</li>
<li>[X] Better Windows linker support / flag passing / warning handling.</li>
<li>[X] Implement a <code>build(Array)</code> method to allow scripted builds (i.e. from within a function, add tasks to the queue.)</li>
<li>[X] Make rules able to depend upon targets also.</li>
<li>[X] Let targets finalize themselves (i.e. copy resulting binary to root folder - or link it at least)</li>
</ul>
<h3>Added 25th Dec. 2014, 1.27PM</h3>
<ul>
<li>[X] Introduce a proper dependency tracking. Resolve target outputs and add them to the dependencies.<ul>
<li>May make it recursive.</li>
</ul>
</li>
<li>[X] Finally write <code>detect.write_*()</code> functions.<ul>
<li>[X] <code>detect.write_header()</code></li>
<li>[X] <code>detect.write_json()</code></li>
</ul>
</li>
<li>[X] Proper build flags for the <code><a class="el" href="class_ice_tea.html">IceTea</a></code> target</li>
<li>[ ] Introduce an <code>install</code> kind of thing.</li>
<li>[ ] Teach <code>bootstrap.it</code> these rules:<ul>
<li>ASM: Assembly</li>
<li>C#: CSharp</li>
<li>Framework: OS X Framework</li>
<li>Component: A generic module</li>
<li>Concat: Combine inputs into single output</li>
<li>Shared libraries</li>
<li>Static libraries (Partialy)</li>
</ul>
</li>
<li>[X] Implement these settings: [Rules now use the settings, so they are userland-defined.]<ul>
<li>native.framework_dirs: OBJC, OBJCXX</li>
<li>OBJC/XX.GC/ARC: Settings for garbage collection or ARC</li>
<li>LIB.rpath: Search paths and install name</li>
<li>COMPONENT: target binary, other settings</li>
<li>ASM: Defines and such</li>
</ul>
</li>
<li>[X] Finally take <code>bootstrap.it</code> into memory within a post-build<ul>
<li>Using the <code>incbin</code> utility.</li>
</ul>
</li>
</ul>
<h3>Added 20th Februrary 2015, 10.21AM</h3>
<ul>
<li>[X] Rewrite build executor (Thanks to  :))<ul>
<li>First generate all the tasks, then loop over them to execute them.</li>
<li>Wait on multiple tasks (commands) and check for their status.<ul>
<li>If failed, let the other commands finish first, then exit.</li>
</ul>
</li>
<li>Use <code><a class="el" href="classstlplus_1_1async__subprocess.html">stlplus::async_subprocess</a></code>.</li>
<li>Create a subclass that reports <code>bool done()</code>.</li>
</ul>
</li>
<li>[-] Make <code>settings.LINK.libraries</code> unique (i.e.: only one <code>-lmylib</code> per array)<ul>
<li>Should probably make <code>Array.dedupe</code>.</li>
</ul>
</li>
</ul>
<h3>Added 20th November 2015, 11:07PM</h3>
<ul>
<li>[X] Implement a Topsort mechanism<ul>
<li>Luckily, advice was retrived here: <a href="http://stackoverflow.com/a/30249477/2423150">http://stackoverflow.com/a/30249477/2423150</a></li>
</ul>
</li>
<li>[ ] Possibly generate a graph.</li>
<li>[ ] Maybe introduce RegEx support.<ul>
<li>I can, via extensions.</li>
</ul>
</li>
</ul>
<h3>Added 10th Janurary 2016, 6:42AM</h3>
<ul>
<li>[ ] Re-implement a <code>describe/it</code> style testing framework as seen in:<ul>
<li><a href="https://github.com/stephenmathieson/describe.h/blob/master/describe.h">https://github.com/stephenmathieson/describe.h/blob/master/describe.h</a></li>
</ul>
</li>
</ul>
<h3>Added 12th Janurary 2016, 5.47AM</h3>
<ul>
<li>[X] Make sure that files within a target actually exist.</li>
</ul>
<h3>Added 13th Janurary 2016, 4.20PM</h3>
<ul>
<li>[X] Add a rule - and options - that allow it to be "not run".<ul>
<li>Makes it possible for targets to depend on header-only libs.</li>
<li>Get extra settings in or trigger other configure steps.</li>
</ul>
</li>
<li>[Never] Build the same target for multiple rules. I.e. as shared and static library.<ul>
<li>This might result in chaos. Rather, just copy the input object to multiple targets.</li>
<li>Or just depend on the parent as a lirary and go from there.</li>
</ul>
</li>
<li>[X] Write proper process classes. <code>$()</code> is nice, but more complex classes are needed.<ul>
<li><code>SubProcess</code>: Pass<code>{async:}</code> with either <code>true</code> or <code>false</code>.</li>
<li><code>shell</code> will not be affected by this. It uses an entirely different routine anyway.</li>
</ul>
</li>
<li>[X] Rewrite parts of <code>detect</code> in OS itself to simplify source.</li>
<li>[X] Store info about input files' last-changed date. On subsequent runs, filter these, and manipulate the queue accordingly.</li>
</ul>
<h3>Added 16th Janurary 2016, 1.02AM</h3>
<ul>
<li>[ ] Overwrite internal ObjectScript classes to extend behaviour.<ul>
<li>[ ] <code>OS::initPreScript()</code>: can run a script for initialization. We can use that in <code>IceTea::initializeModules()</code>. We can also override <code>require()</code>!</li>
<li>[ ] <code>OS::resolveFile(OS::String)</code> -&gt; <code>require.resolve</code>: Resolve a file.</li>
</ul>
</li>
<li>[ ] Utilize <code>OS::Core</code> to get ahold of the backtrace.<ul>
<li>Useful for finding the currently executed file!</li>
</ul>
</li>
<li>[X] Introduce <code>Template</code>. A class to take <code>.in</code> files and transform them.<ul>
<li>No extra class needed. Simply using OS now.</li>
<li>However, I should add <code>@NAME@</code> substitutions...</li>
<li>But that would require Regex O.o so I might not.</li>
</ul>
</li>
<li>[X] Export cached values into ObjectScript, so that we can process <code>.in</code> files.</li>
</ul>
<h3>Added 18th Janurary 2016, 5.12pm</h3>
<ul>
<li>[ ] Advanced APIs:<ul>
<li>Compile a file directly, utilize <a class="el" href="class_ice_tea.html">IceTea</a>'s functionality to properly resolve the compiler and any settings. Provide a "Template target" to serve all the various settings.</li>
<li>Simplify the usage of sub-builds.</li>
</ul>
</li>
<li>[ ] Find better ways to merge as many tasks together as possible.<ul>
<li>Idea: Look-ahead. See if topmost task in next level has any unbuilt deps, and if not, lower it to current.</li>
</ul>
</li>
<li>[ ] Improve caching and step-minimizing.<ul>
<li>File hashing is only one thing...</li>
</ul>
</li>
<li>[ ] A way to have sub-builds trigger changes in upstream. So that generated code gets re-compiled into an executable.<ul>
<li>This actually should happen, since the hash would change. Hm...</li>
</ul>
</li>
</ul>
<h3>Added 13th March 2016, 4:40am</h3>
<ul>
<li>[ ] Overhaul <code>Task</code>:<ul>
<li>[ ] Implement <code>profiles</code> property. Each function corresponds to a scheme.</li>
<li>[ ] Use double-underscore to indicate private methods.</li>
</ul>
</li>
<li>[ ] <code>Project</code>s:<ul>
<li>[ ] Name, description, version.</li>
<li>[ ] Each project can have it's own steps/rules. Falls back to global ones.</li>
<li>[ ] Projects can import steps/rules from others.</li>
<li>[ ] Projects are imported with their <code>bootstrap.it</code> file first.</li>
<li>[ ] A included project's <code>.<a class="el" href="class_ice_tea.html">IceTea</a></code> folder becomes available only to the project - call it private resources.</li>
</ul>
</li>
</ul>
<h3>Added 17th March 2016, 7:09am</h3>
<ul>
<li>[ ] Default paths for Pluma based plugins</li>
<li>[ ] Introduce "install" step for IceTea! <h3>Later that day</h3>
</li>
</ul>
<ul>
<li>[New concept] Flag targets, allowing them to:<ul>
<li>Specify the kind of tooling they want. (Native, Emscripten, Cheerp, ...)</li>
<li>Give steps the ability to be not applied. Even if the pattern matches, but a flag is not set, dont use it.</li>
</ul>
</li>
<li>[ ] Recursive dependency traversal. Ouch.<ul>
<li>Target A depends on B, which depends on C.</li>
<li>Merge C into B, into A.</li>
</ul>
</li>
</ul>
<h3>Added 17th March 2016, 7:09am</h3>
<ul>
<li>[-] Add compiler <code>-target</code> support.<ul>
<li>Might not work on Windows.</li>
<li>Will allow for stuff like Cheerp to work.</li>
<li>Partially implemented when Toolchains become a thing. Just use an extra flag. </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
