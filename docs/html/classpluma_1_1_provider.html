<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IceTea: pluma::Provider Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IceTea
   </div>
   <div id="projectbrief">Next-Generationbuildtoolforeveryone!</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>pluma</b></li><li class="navelem"><a class="el" href="classpluma_1_1_provider.html">Provider</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classpluma_1_1_provider-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pluma::Provider Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface to provide applications with objects from plugins.  
 <a href="classpluma_1_1_provider.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_provider_8hpp_source.html">Provider.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for pluma::Provider:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classpluma_1_1_provider.png" usemap="#pluma::Provider_map" alt=""/>
  <map id="pluma::Provider_map" name="pluma::Provider_map">
<area href="class_ice_tea_plugin_provider.html" alt="IceTeaPluginProvider" shape="rect" coords="0,56,167,80"/>
<area href="class_ice_tea_cache_provider.html" alt="IceTeaCacheProvider" shape="rect" coords="177,112,344,136"/>
<area href="class_ice_tea_console_provider.html" alt="IceTeaConsoleProvider" shape="rect" coords="177,168,344,192"/>
<area href="class_ice_tea_detector_provider.html" alt="IceTeaDetectorProvider" shape="rect" coords="177,224,344,248"/>
<area href="class_ice_tea_general_provider.html" alt="IceTeaGeneralProvider" shape="rect" coords="177,280,344,304"/>
<area href="class_ice_tea_p_f_s_provider.html" alt="IceTeaPFSProvider" shape="rect" coords="177,336,344,360"/>
<area href="class_ice_tea_process_provider.html" alt="IceTeaProcessProvider" shape="rect" coords="177,392,344,416"/>
<area href="class_ice_tea_s_l_r_e_provider.html" alt="IceTeaSLREProvider" shape="rect" coords="177,448,344,472"/>
<area href="class_ice_tea_s_t_d_provider.html" alt="IceTeaSTDProvider" shape="rect" coords="177,504,344,528"/>
<area href="class_ice_tea_sub_process_provider.html" alt="IceTeaSubProcessProvider" shape="rect" coords="177,560,344,584"/>
<area href="class_ice_tea_system_provider.html" alt="IceTeaSystemProvider" shape="rect" coords="177,616,344,640"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a111a1db902d6372282f8407c9d845c21"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a111a1db902d6372282f8407c9d845c21"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpluma_1_1_provider.html#a111a1db902d6372282f8407c9d845c21">~Provider</a> ()</td></tr>
<tr class="memdesc:a111a1db902d6372282f8407c9d845c21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a111a1db902d6372282f8407c9d845c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2053501ab733fc5f8ddfaf76032c82cb"><td class="memItemLeft" align="right" valign="top">virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpluma_1_1_provider.html#a2053501ab733fc5f8ddfaf76032c82cb">getVersion</a> () const  =0</td></tr>
<tr class="memdesc:a2053501ab733fc5f8ddfaf76032c82cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get provider version.  <a href="#a2053501ab733fc5f8ddfaf76032c82cb">More...</a><br /></td></tr>
<tr class="separator:a2053501ab733fc5f8ddfaf76032c82cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192ea5a17a8fe9de1f3ba6572f44f266"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpluma_1_1_provider.html#a192ea5a17a8fe9de1f3ba6572f44f266">isCompatible</a> (const <a class="el" href="classpluma_1_1_host.html">Host</a> &amp;host) const </td></tr>
<tr class="memdesc:a192ea5a17a8fe9de1f3ba6572f44f266"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check compatibility with host.  <a href="#a192ea5a17a8fe9de1f3ba6572f44f266">More...</a><br /></td></tr>
<tr class="separator:a192ea5a17a8fe9de1f3ba6572f44f266"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a912b690126957a1ad90d0c373a4ad4d0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a912b690126957a1ad90d0c373a4ad4d0"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>Host</b></td></tr>
<tr class="separator:a912b690126957a1ad90d0c373a4ad4d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface to provide applications with objects from plugins. </p>
<p>The plugin specific implementations are unknown at the host side, only their shared interfaces are known.</p>
<p>Then, host app needs a generic way of create interface objects. That's what provider classes are for. It is the factory design pattern (<a href="http://www.oodesign.com/factory-pattern.html">http://www.oodesign.com/factory-pattern.html</a>)</p>
<p>Shared interfaces define their provider types (by inheriting from <a class="el" href="classpluma_1_1_provider.html" title="Interface to provide applications with objects from plugins. ">pluma::Provider</a>). Hosts then use those tipes to get objects from the plugins. Plugins derive the shared interface providers so that they can provide host with specific implementations of the shared interface. Those specific providers are given to the host through a connect function.</p>
<p>Example: A host app uses objects of type Device. A certain plugin defines a Keyboard, witch is a Device. The <a class="el" href="classpluma_1_1_host.html" title="Manages providers. ">Host</a> will use DeviceProviders to create objects of type Device. The plugin will provide host specifically with a KeyboardProvider. Other plugins may provide host with other derived DeviceProvider types.</p>
<p>Device hpp (shared): </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Pluma/Pluma.hpp&gt;</span></div><div class="line"><span class="keyword">class </span>Device{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">virtual</span> std::string getDescription() <span class="keyword">const</span> = 0;</div><div class="line">};</div><div class="line"><span class="comment">// create DevicedProvider class</span></div><div class="line">PLUMA_PROVIDER_HEADER(Device);</div></div><!-- fragment --><p>Device cpp (shared): </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Device.hpp&quot;</span></div><div class="line">generate DevicedProvider with version 6, and compatible with at least v.3</div><div class="line">PLUMA_PROVIDER_SOURCE(Device, 6, 3);</div></div><!-- fragment --><p><br />
 Keyboard code on the plugin side: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Pluma/Pluma.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;Device.hpp&quot;</span></div><div class="line"></div><div class="line"><span class="keyword">class </span>Keyboard: <span class="keyword">public</span> Device{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    std::string getDescription()<span class="keyword"> const</span>{</div><div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;keyboard&quot;</span>;</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// create KeyboardProvider, it implements DeviceProvider</span></div><div class="line">PLUMA_INHERIT_PROVIDER(Keyboard, Device);</div></div><!-- fragment --><p>plugin connector: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Pluma/Connector.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;Keyboard.hpp&quot;</span></div><div class="line"></div><div class="line">PLUMA_CONNECTOR</div><div class="line"><span class="keywordtype">bool</span> connect(<a class="code" href="classpluma_1_1_host.html">pluma::Host</a>&amp; host){</div><div class="line">    <span class="comment">// add a keyboard provider to host</span></div><div class="line">    host.<a class="code" href="classpluma_1_1_host.html#ab673ba94ff56a12cdf2a7a25ebb8cc36">add</a>( <span class="keyword">new</span> KeyboardProvider() );</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">}</div></div><!-- fragment --><p><a class="el" href="classpluma_1_1_host.html" title="Manages providers. ">Host</a> application code: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Pluma/Pluma.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;Device.hpp&quot;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(){</div><div class="line"></div><div class="line">    <a class="code" href="classpluma_1_1_pluma.html">pluma::Pluma</a> plugins;</div><div class="line">    <span class="comment">// Tell plugins manager to accept providers of the type DeviceProvider</span></div><div class="line">    plugins.<a class="code" href="classpluma_1_1_pluma.html#a200c59b0983c7ca53d11b03cf8220bc7">acceptProviderType</a>&lt;DeviceProvider&gt;();</div><div class="line">    <span class="comment">// Load library &quot;standard_devices&quot; from folder &quot;plugins&quot;</span></div><div class="line">    plugins.<a class="code" href="classpluma_1_1_plugin_manager.html#aa00400d23efa8a8f94e44dd1c5bf54e6">load</a>(<span class="stringliteral">&quot;plugins&quot;</span>, <span class="stringliteral">&quot;standard_devices&quot;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Get device providers into a vector</span></div><div class="line">    std::vector&lt;DeviceProvider*&gt; providers;</div><div class="line">    plugins.<a class="code" href="classpluma_1_1_pluma.html#a49fa0b2b4497885c4e978259be0a7abe">getProviders</a>(providers);</div><div class="line"></div><div class="line">    <span class="comment">// create a Device from the first provider</span></div><div class="line">    <span class="keywordflow">if</span> (!providers.empty()){</div><div class="line">        Device* myDevice = providers.first()-&gt;create();</div><div class="line">        <span class="comment">// do something with myDevice</span></div><div class="line">        std::cout &lt;&lt; device-&gt;getDescription() &lt;&lt; std::endl;</div><div class="line">        <span class="comment">// and delete it in the end</span></div><div class="line">        <span class="keyword">delete</span> myDevice;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
<p>Definition at line <a class="el" href="_provider_8hpp_source.html#l00042">42</a> of file <a class="el" href="_provider_8hpp_source.html">Provider.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2053501ab733fc5f8ddfaf76032c82cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual unsigned int pluma::Provider::getVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get provider version. </p>
<dl class="section return"><dt>Returns</dt><dd>Version number. </dd></dl>

<p>Implemented in <a class="el" href="class_ice_tea_plugin_provider.html#a66d621770107000c1aede49d0d5335fc">IceTeaPluginProvider</a>.</p>

</div>
</div>
<a class="anchor" id="a192ea5a17a8fe9de1f3ba6572f44f266"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pluma::Provider::isCompatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classpluma_1_1_host.html">Host</a> &amp;&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check compatibility with host. </p>
<p>The same provider may be compiled with different versions on host side and on plugins side. This function checks if a plugin provider is compatible with the current version of the same provider type on the host side.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td><a class="el" href="classpluma_1_1_host.html" title="Manages providers. ">Host</a>, proxy of host application.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if it's compatible with <em>host</em>. </dd></dl>

<p>Definition at line <a class="el" href="_provider_8cpp_source.html#l00042">42</a> of file <a class="el" href="_provider_8cpp_source.html">Provider.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_provider_8hpp_source.html">Provider.hpp</a></li>
<li>src/<a class="el" href="_provider_8cpp_source.html">Provider.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
